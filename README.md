# Предметная область

Авиарейсы <br>  
Каждый рейс описан структурой: маршрут (город отправления, город прибытия), самолет, номер рейса, дата и время отправления, дата и время прибытия, длительность рейса, наличие прима пищи, наличие ручной клади, наличие багажа, отмена рейса.

Реализовано:
CRUD операции для маршрутов, самолетов, рейсов;
поиск рейсов по городу отправления, городу прибытия и дате отправления;
расширенный поиск по количеству мест, наличию первого класса;
найти самый быстрый рейс и обратный рейс;
# Композиция

Маршрут - рейс, самолет - рейс

Описание выбранных объектов:<br>
- Маршрут (Trip), свойства:
   - tripId (long) - идентификационный номер маршрута в системе;<br>
   - departureCity (String) - город отправления;<br>
   - arrivalCity (String) - город прибытия;<br>
   - createdAt (LocalDateTime) - дата и время создания маршрута;<br>
   - updatedAt (LocalDateTime) - дата и время обновления маршрута;<br>

- Самолет (Airplane), свойства:
   - airplaneId (long) - идентификационный номер самолета в системе;<br>
   - model (String) - модель самолета;<br>
  - numberOfSeats (int) - количество мест в самолете;<br>
  - socket (boolean) - наличие розетки для зарядки устройств;<br>
  - media (boolean) - наличие развлекательного мультимедиа;<br>
  - wiFi (boolean) - наличие wi-fi;<br>
  - seatPitch (int) - шаг кресел;<br>
  - seatWidth (int) - ширина кресел;<br>
  - hasFirstClass (boolean) - наличие первого класса;<br>
  - chairScheme (String) - схема сидений;<br>

- Рейс (Flight), свойства:
    - flightId (long) - идентификационный номер рейса в системе;
  - trip (Trip) - маршрут;
  - airplane (Airplane) - самолет;
  - flightNumber (String) - номер рейса;
  - departureDateTime (LocalDateTime) - дата и время отправления;
  - arrivalDateTime (LocalDateTime) - дата и время прибытия;
  - meal (boolean) - наличие приема пищи во время рейса;
  - handLuggage (boolean) - допускается  ручная кладь;
  - Luggage (boolean) - допускается багаж;
  - duration (long) - длительность рейса;
  - canceled (boolean) - рейс отменен;

# Зависимости


- spring-boot-starter-validation - стартер для использования Java Bean Validation с Hibernate Validator;

- spring-boot-starter-web - стартер для создания веб-приложений, в том числе RESTful, с использованием Spring MVC. Использует Tomcat в качестве встроенного контейнера по умолчанию;

- postgresql - драйвер JDBC для PostgreSQL;

- lombok - автоматическое создание геттеров, сеттеров и др.;

- springfox-boot-starter - документация JSON API для приложений на основе Spring. Используется для инструмента автоматической генерации документации Swagger;

- spring-boot-starter-data-jpa - стартер для использования Spring Data JPA с Hibernate, содержит пул подключений к БД (HikariDataSource);

- spring-boot-starter-test - стартер для тестирования приложений Spring Boot с библиотеками JUnit Jupiter, Hamcrest и Mockito;

- liquibase-core - инструмент для управления и выполнения изменений базы данных, в данном случае используется для создания схемы БД и ее инициализации;

# Инструкция по запуску приложения
<hr>

1. Клонировать удаленный git-репозиторий через ssh используя консоль командой:<br>
git clone git@github.com:NikitaNasevich/task.git  
либо скачать zip-архив приложения и распаковать его:
2. Используя консоль (к примеру git bash) перейти в корень приложения:<br>
    - если приложение было клонировано, корень - директория которая была указана для хранения приложение на локальной машине;
   - если был скачан архив, корень - директоря task-master;
3. На данном этапе необходимо наличие Docker платформы на локальной машине.
Выполнить команду docker-compose up в корне приложения используя консоль.

После того как контейнеры приложения и базы данных будут запущены, будет доступна сгенерированная документация по адресу:  http://localhost:8080/swagger-ui/ .

Также в корне приложения находится [коллекция](https://github.com/NikitaNasevich/task/blob/master/flight%20service%20collection.postman_collection.json) запросов для Postman. Для простоты использования коллекции, добавлены глобальные переменные, что позволяет запустить сразу всю коллекцию.

